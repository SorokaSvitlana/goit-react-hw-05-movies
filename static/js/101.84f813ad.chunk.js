"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[101],{101:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(861),a=n(439),c=n(757),o=n.n(c),i=n(243),s="https://api.themoviedb.org/3",u="6c7e0dbf534467d4aac979504763e884";function l(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("".concat(s,"/search/movie?api_key=").concat(u,"&query=").concat(t,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var p=n(537),m=n(937),f=n(413),v=n(887),d=n(184),x=function(e){var t,n=e.onSubmit,r=(0,v.cI)(),a=r.register,c=r.handleSubmit,o=r.reset,i=r.formState.errors;return(0,d.jsxs)("form",{onSubmit:c((function(e,t){e.movieSearch||(i.movieSearch={type:"required",message:"Search field cannot be empty"}),0===Object.keys(i).length&&(n({query:e.movieSearch}),o())})),children:[i.movieSearch&&(0,d.jsx)("div",{children:null===(t=i.movieSearch)||void 0===t?void 0:t.message}),(0,d.jsx)("input",(0,f.Z)({name:"movieSearch",type:"text"},a("movieSearch"))),(0,d.jsx)("button",{type:"submit",children:"Search"})]})},y=n(791),S=n(87),Z=function(){var e=(0,y.useState)([]),t=(0,a.Z)(e,2),n=t[0],c=t[1],i=(0,S.lr)(),s=(0,a.Z)(i,2),u=s[0],h=s[1],f=(0,y.useState)(!1),v=(0,a.Z)(f,2),Z=v[0],b=v[1],g=u.get("query");return(0,y.useEffect)((function(){function e(){return(e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,l(g);case 4:t=e.sent,c(t),b(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}g&&function(){e.apply(this,arguments)}()}),[u,g]),(0,d.jsxs)("div",{children:[Z&&(0,d.jsx)(p.Z,{}),(0,d.jsx)(x,{onSubmit:function(e){h(e)}}),(0,d.jsx)(m.Z,{array:n})]})}},937:function(e,t,n){n.d(t,{Z:function(){return f}});n(791);var r,a,c,o=n(689),i=n(168),s=n(444),u=n(87),l=s.ZP.ul(r||(r=(0,i.Z)(["\n  list-style-type: none;\n"]))),h=s.ZP.li(a||(a=(0,i.Z)(["\n  margin-bottom: 10px;\n"]))),p=(0,s.ZP)(u.rU)(c||(c=(0,i.Z)(["\n  text-decoration: none;\n  color: #333;\n\n  &:hover {\n    color: red;\n  }\n"]))),m=n(184),f=function(e){var t=e.array,n=(0,o.TH)(),r=n.pathname.includes("/movies")?"":"movies/";return(0,m.jsx)(l,{children:t.map((function(e){return(0,m.jsx)(h,{children:(0,m.jsx)(p,{to:"".concat(r).concat(e.id),state:{from:n},children:e.title})},e.id)}))})}}}]);
//# sourceMappingURL=101.84f813ad.chunk.js.map